<!DOCTYPE html>
<html lang="ja">

<head>
  <meta name=”robots” content=”noindex”>
  <meta name=”robots” content=”nofollow”>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ことわざ学習ゲーム</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Hiragino Sans', 'ヒラギノ角ゴシック', 'Yu Gothic', '游ゴシック', 'Meiryo', 'メイリオ', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
      color: #333;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      animation: slideIn 0.6s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(30px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .header {
      background: linear-gradient(135deg, #ff6b6b, #ee5a24);
      color: white;
      padding: 30px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .header::before {
      content: '🎌';
      position: absolute;
      font-size: 100px;
      opacity: 0.1;
      right: -20px;
      top: -20px;
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0px) rotate(0deg);
      }

      50% {
        transform: translateY(-10px) rotate(5deg);
      }
    }

    h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }

    .subtitle {
      font-size: 1.1em;
      opacity: 0.9;
    }

    .game-area {
      padding: 40px;
    }

    .score-board {
      display: flex;
      justify-content: space-between;
      margin-bottom: 30px;
      background: #f8f9fa;
      padding: 20px;
      border-radius: 15px;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .score-item {
      text-align: center;
      flex: 1;
    }

    .score-label {
      font-size: 0.9em;
      color: #666;
      margin-bottom: 5px;
    }

    .score-value {
      font-size: 1.8em;
      font-weight: bold;
      color: #2c3e50;
    }

    .question-card {
      background: #fff;
      border: 3px solid #e9ecef;
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }

    .question-card.correct {
      border-color: #28a745;
      background: #d4edda;
      animation: correctPulse 0.6s ease;
    }

    .question-card.incorrect {
      border-color: #dc3545;
      background: #f8d7da;
      animation: shake 0.6s ease;
    }

    @keyframes correctPulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.02);
      }

      100% {
        transform: scale(1);
      }
    }

    @keyframes shake {

      0%,
      100% {
        transform: translateX(0);
      }

      25% {
        transform: translateX(-5px);
      }

      75% {
        transform: translateX(5px);
      }
    }

    .question-type {
      color: #6c757d;
      font-size: 0.9em;
      margin-bottom: 15px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .question-text {
      font-size: 1.4em;
      margin-bottom: 25px;
      line-height: 1.6;
      color: #2c3e50;
    }

    .options {
      display: grid;
      gap: 15px;
      margin-bottom: 20px;
    }

    .option-btn {
      background: #f8f9fa;
      border: 2px solid #dee2e6;
      border-radius: 12px;
      padding: 15px 20px;
      font-size: 1.1em;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: left;
      position: relative;
      overflow: hidden;
    }

    .option-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: left 0.5s;
    }

    .option-btn:hover {
      background: #e9ecef;
      border-color: #6c757d;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .option-btn:hover::before {
      left: 100%;
    }

    .option-btn.correct {
      background: #d4edda;
      border-color: #28a745;
      color: #155724;
    }

    .option-btn.incorrect {
      background: #f8d7da;
      border-color: #dc3545;
      color: #721c24;
    }

    .option-btn.disabled {
      pointer-events: none;
      opacity: 0.7;
    }

    .explanation {
      background: #fff3cd;
      border: 1px solid #ffeaa7;
      border-radius: 10px;
      padding: 15px;
      margin-top: 20px;
      font-size: 0.95em;
      line-height: 1.5;
      display: none;
    }

    .explanation.show {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .next-btn {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      border-radius: 25px;
      padding: 12px 30px;
      font-size: 1.1em;
      cursor: pointer;
      transition: all 0.3s ease;
      display: none;
      margin: 20px auto 0;
      position: relative;
      overflow: hidden;
    }

    .next-btn.show {
      display: block;
      animation: slideUp 0.5s ease;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .next-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    .result-screen {
      text-align: center;
      display: none;
      padding: 40px;
    }

    .result-screen.show {
      display: block;
      animation: zoomIn 0.6s ease;
    }

    @keyframes zoomIn {
      from {
        opacity: 0;
        transform: scale(0.8);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .result-emoji {
      font-size: 100px;
      margin-bottom: 20px;
      animation: bounce 1s ease infinite;
    }

    @keyframes bounce {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-10px);
      }
    }

    .result-title {
      font-size: 2.5em;
      margin-bottom: 15px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .result-score {
      font-size: 1.5em;
      color: #6c757d;
      margin-bottom: 30px;
    }

    .restart-btn {
      background: linear-gradient(135deg, #ff6b6b, #ee5a24);
      color: white;
      border: none;
      border-radius: 25px;
      padding: 15px 40px;
      font-size: 1.2em;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .restart-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: #e9ecef;
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 30px;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #667eea, #764ba2);
      width: 0%;
      transition: width 0.5s ease;
      border-radius: 4px;
    }

    @media (max-width: 600px) {
      .container {
        margin: 10px;
      }

      h1 {
        font-size: 2em;
      }

      .game-area {
        padding: 20px;
      }

      .question-text {
        font-size: 1.2em;
      }

      .option-btn {
        padding: 12px 15px;
        font-size: 1em;
      }
    }

    .explanation .correct-mark {
      color: #28a745;
      /* 緑色 */
      font-weight: bold;
    }

    .explanation .incorrect-mark {
      color: #dc3545;
      /* 赤色 */
      font-weight: bold;
    }

    .block-selection-screen {
      text-align: center;
      padding: 40px 20px;
    }

    .block-selection-screen .result-title {
      margin-bottom: 30px;
    }

    .block-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }

    .block-btn {
      background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);
      color: white;
      border: none;
      border-radius: 15px;
      padding: 25px;
      font-size: 1.2em;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .block-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
    }

    .home-btn {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: 1px solid #dee2e6;
      border-radius: 25px;
      padding: 8px 16px;
      font-size: 0.9em;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      display: block;
      margin: 0 auto 20px auto;
    }

    .home-btn:hover {
      background: linear-gradient(135deg, #667eea, #764ba2);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1>ことわざ学習ゲーム</h1>
      <p class="subtitle">日本の知恵を楽しく学ぼう！</p>
    </div>

    <div class="game-area">
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>

      <div class="score-board">
        <div class="score-item">
          <div class="score-label">問題</div>
          <div class="score-value" id="currentQuestion">1</div>
        </div>
        <div class="score-item">
          <div class="score-label">正解数</div>
          <div class="score-value" id="correctCount">0</div>
        </div>
        <div class="score-item">
          <div class="score-label">総問題数</div>
          <div class="score-value" id="totalQuestions">10</div>
        </div>
      </div>

      <div class="question-card" id="questionCard">
        <div class="question-type" id="questionType"></div>
        <div class="question-text" id="questionText"></div>
        <div class="options" id="options"></div>
        <div class="explanation" id="explanation"></div>
        <button class="next-btn" id="nextBtn" onclick="nextQuestion()">次の問題</button>
      </div>

      <div class="result-screen" id="resultScreen">
        <div class="result-emoji" id="resultEmoji">🎉</div>
        <div class="result-title" id="resultTitle">お疲れさまでした！</div>
        <div class="result-score" id="resultScore">10問中8問正解！</div>
        <button class="restart-btn" onclick="showBlockSelection()">他のブロックに挑戦</button>
      </div>
      <div class="block-selection-screen" id="blockSelectionScreen">
        <div class="result-title">挑戦するブロックを選ぼう！</div>
        <div class="block-list" id="blockList"></div>
      </div>

      <div id="gameContent" style="display: none;">
        <button class="home-btn" onclick="showBlockSelection()">ホーム</button>
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const proverbs = [
      {
        type: "意味選択",
        question: "「一石二鳥」(いっせきにちょう)の意味は？",
        options: [
          "一つの行動で二つの利益を得ること",
          "石を投げて鳥を捕まえること",
          "一つのことに集中すること",
          "困難な状況を乗り越えること"
        ],
        correct: 0,
        explanation: "「一石二鳥」(いっせきにちょう)は、一つの行動で二つの利益や効果を得ることを意味します。効率的に物事を進める際に使われる表現です。"
      },
      {
        type: "続き選択",
        question: "「猫に ___」(ねこに)",
        options: [
          "小判",
          "魚",
          "餌",
          "首輪"
        ],
        correct: 0,
        explanation: "「猫に小判」(ねこにこばん)は、価値のあるものを与えても、その価値がわからない人には意味がないということを表します。"
      },
      {
        type: "意味選択",
        question: "「七転び八起き」(ななころびやおき)の意味は？",
        options: [
          "何度失敗しても諦めずに立ち上がること",
          "転ぶ回数が多いこと",
          "運動が得意なこと",
          "数字を覚えること"
        ],
        correct: 0,
        explanation: "「七転び八起き」(ななころびやおき)は、何度失敗しても諦めずに立ち上がり、挑戦し続けることを表す励ましの言葉です。"
      },
      {
        type: "続き選択",
        question: "「花より ___」(はなより)",
        options: [
          "団子",
          "葉っぱ",
          "水",
          "蜂"
        ],
        correct: 0,
        explanation: "「花より団子」(はなよりだんご)は、美しいものより実用的なもの、風流より実益を重視することを意味します。"
      },
      {
        type: "意味選択",
        question: "「虎の威を借る狐」(とらのいをかるきつね)の意味は？",
        options: [
          "他人の権力を利用して威張ること",
          "虎と狐が仲良くすること",
          "動物園で働くこと",
          "強い者に従うこと"
        ],
        correct: 0,
        explanation: "「虎の威を借る狐」(とらのいをかるきつね)は、自分には力がないのに、有力者の権威を借りて威張る人を表します。"
      },
      {
        type: "続き選択",
        question: "「急がば ___」(いそがば)",
        options: [
          "回れ",
          "走れ",
          "止まれ",
          "歩け"
        ],
        correct: 0,
        explanation: "「急がば回れ」(いそがばまわれ)は、急いでいる時こそ、確実で安全な方法を取る方が結果的に早いということを意味します。"
      },
      {
        type: "意味選択",
        question: "「井の中の蛙」(いのなかのかわず)の意味は？",
        options: [
          "見聞が狭く、自分の知識や経験が世界の全てだと思い込むこと",
          "井戸の中に住んでいる蛙のこと",
          "水の中を泳ぐのが上手なこと",
          "小さな場所に住むこと"
        ],
        correct: 0,
        explanation: "「井の中の蛙大海を知らず」(いのなかのかわずたいかいをしらず)の略で、狭い世界にいて広い世界を知らず、自分の知識や経験が全てだと思い込んでいる人を表します。"
      },
      {
        type: "続き選択",
        question: "「情けは ___」(なさけは)",
        options: [
          "人の為ならず",
          "大切なもの",
          "美しいもの",
          "必要なもの"
        ],
        correct: 0,
        explanation: "「情けは人の為ならず」(なさけはひとのためならず)は、人に情けをかけることは、その人のためだけでなく、やがて自分にも良い結果をもたらすという意味です。"
      },
      {
        type: "意味選択",
        question: "「覆水盆に返らず」(ふくすいぼんにかえらず)の意味は？",
        options: [
          "一度してしまったことは元に戻らないこと",
          "水をこぼすと大変なこと",
          "器を大切にすること",
          "水は貴重なもの"
        ],
        correct: 0,
        explanation: "「覆水盆に返らず」(ふくすいぼんにかえらず)は、こぼれた水が元の盆には戻らないように、一度起きてしまったことは元に戻すことができないという意味です。"
      },
      {
        type: "続き選択",
        question: "「時は ___」(ときは)",
        options: [
          "金なり",
          "大切なり",
          "速いなり",
          "美しいなり"
        ],
        correct: 0,
        explanation: "「時は金なり」(ときはかねなり)は、時間はお金と同じように貴重なものであり、無駄にしてはいけないという意味です。効率的に時間を使うことの大切さを教えています。"
      },
      {
        type: "続き選択",
        question: "「能ある鷹は ___」(のうあるたかは)",
        options: [
          "爪を隠す",
          "高く飛ぶ",
          "獲物を取る",
          "美しく鳴く"
        ],
        correct: 0,
        explanation: "「能ある鷹は爪を隠す」(のうあるたかはつめをかくす)は、本当に実力のある人は、普段はそれをひけらかさないという意味です。"
      },
      {
        type: "意味選択",
        question: "「三人寄れば文殊の知恵」(さんにんよればもんじゅのちえ)の意味は？",
        options: [
          "凡人でも三人集まれば良い知恵が出る",
          "三人で勉強すると効率が良い",
          "文殊菩薩は知恵の神様",
          "人数が多いほど良い"
        ],
        correct: 0,
        explanation: "「三人寄れば文殊の知恵」(さんにんよればもんじゅのちえ)は、普通の人でも三人集まって考えれば、文殊菩薩のような素晴らしい知恵が出るという意味です。"
      },
      {
        type: "続き選択",
        question: "「石の上にも ___」(いしのうえにも)",
        options: [
          "三年",
          "十年",
          "一年",
          "百日"
        ],
        correct: 0,
        explanation: "「石の上にも三年」(いしのうえにもさんねん)は、どんなに辛いことでも辛抱強く続けていれば、いつかは成功するという意味です。"
      },
      {
        type: "意味選択",
        question: "「暖簾に腕押し」(のれんにうでおし)の意味は？",
        options: [
          "手応えがなく、やりがいがないこと",
          "暖簾を押すこと",
          "お店で働くこと",
          "力が強いこと"
        ],
        correct: 0,
        explanation: "「暖簾に腕押し」(のれんにうでおし)は、暖簾を押しても手応えがないように、反応や効果がなくやりがいがないことを表します。"
      },
      {
        type: "続き選択",
        question: "「馬の耳に ___」(うまのみみに)",
        options: [
          "念仏",
          "音楽",
          "風",
          "草"
        ],
        correct: 0,
        explanation: "「馬の耳に念仏」(うまのみみにねんぶつ)は、どんなにありがたい教えや忠告をしても、聞く耳を持たない人には効果がないという意味です。"
      },
      {
        type: "意味選択",
        question: "「弘法も筆の誤り」(こうぼうもふでのあやまり)の意味は？",
        options: [
          "どんな名人でも時には失敗すること",
          "弘法大師が字を間違えたこと",
          "筆で書くのは難しいこと",
          "練習が大切なこと"
        ],
        correct: 0,
        explanation: "「弘法も筆の誤り」(こうぼうもふでのあやまり)は、書の名人である弘法大師でも字を間違えることがあるように、どんな専門家でも失敗することがあるという意味です。"
      },
      {
        type: "続き選択",
        question: "「犬も歩けば ___」(いぬもあるけば)",
        options: [
          "棒に当たる",
          "疲れる",
          "迷子になる",
          "人に会う"
        ],
        correct: 0,
        explanation: "「犬も歩けば棒に当たる」(いぬもあるけばぼうにあたる)は、何かをすれば災難に遭うこともあるが、一方で思わぬ幸運に出会うこともあるという意味です。"
      },
      {
        type: "意味選択",
        question: "「猿も木から落ちる」(さるもきからおちる)の意味は？",
        options: [
          "専門家でも時には失敗すること",
          "猿が実際に木から落ちること",
          "動物は危険な目に遭うこと",
          "高いところは危険なこと"
        ],
        correct: 0,
        explanation: "「猿も木から落ちる」(さるもきからおちる)は、木登りの得意な猿でも時には木から落ちるように、その道の専門家や達人でも失敗することがあるという意味です。"
      },
      {
        type: "続き選択",
        question: "「鬼に ___」(おにに)",
        options: [
          "金棒",
          "角",
          "牙",
          "力"
        ],
        correct: 0,
        explanation: "「鬼に金棒」(おににかなぼう)は、強い者がさらに強力な武器を持つことで、一層強くなることを表します。"
      },
      {
        type: "意味選択",
        question: "「後の祭り」(あとのまつり)の意味は？",
        options: [
          "時機を逸して手遅れになること",
          "祭りの後片付けのこと",
          "楽しい時間の後の寂しさ",
          "予定が延期されること"
        ],
        correct: 0,
        explanation: "「後の祭り」(あとのまつり)は、祭りが終わった後では楽しめないように、適切な時期を過ぎてしまって手遅れになることを表します。"
      },
      {
        type: "続き選択",
        question: "「蛙の子は ___」(かえるのこは)",
        options: [
          "蛙",
          "オタマジャクシ",
          "魚",
          "虫"
        ],
        correct: 0,
        explanation: "「蛙の子は蛙」(かえるのこはかえる)は、子どもは親に似るもので、平凡な親からは平凡な子が生まれるという意味です。"
      },
      {
        type: "意味選択",
        question: "「船頭多くして船山に登る」(せんどうおおくしてふねやまにのぼる)の意味は？",
        options: [
          "指導者が多すぎると物事がうまく進まない",
          "船が実際に山に登ること",
          "協力すれば不可能なことも可能",
          "船頭の仕事は大変なこと"
        ],
        correct: 0,
        explanation: "「船頭多くして船山に登る」(せんどうおおくしてふねやまにのぼる)は、指導者や指示する人が多すぎると、かえって方向性が定まらず物事が混乱してしまうという意味です。"
      },
      {
        type: "続き選択",
        question: "「類は ___」(るいは)",
        options: [
          "友を呼ぶ",
          "敵を作る",
          "自分を知る",
          "力を合わせる"
        ],
        correct: 0,
        explanation: "「類は友を呼ぶ」(るいはともをよぶ)は、似た者同士は自然に集まり、仲良くなりやすいという意味です。"
      },
      {
        type: "意味選択",
        question: "「武士は食わねど高楊枝」(ぶしはくわねどたかようじ)の意味は？",
        options: [
          "貧しくても体裁や見栄を張ること",
          "武士は食べなくても元気なこと",
          "楊枝を使うのは上品なこと",
          "武士の生活は質素なこと"
        ],
        correct: 0,
        explanation: "「武士は食わねど高楊枝」(ぶしはくわねどたかようじ)は、貧乏で食べ物がなくても、いかにも食べたかのように楊枝を使って体裁を保つことから、貧しくても見栄を張ることを表します。"
      },
      {
        type: "続き選択",
        question: "「塵も積もれば ___」(ちりもつもれば)",
        options: [
          "山となる",
          "川となる",
          "海となる",
          "雲となる"
        ],
        correct: 0,
        explanation: "「塵も積もれば山となる」(ちりもつもればやまとなる)は、どんなに小さなものでも積み重なれば大きなものになるという意味で、継続の大切さを教えています。"
      },
      {
        type: "意味選択",
        question: "「鬼の居ぬ間に洗濯」(おにのいぬまにせんたく)の意味は？",
        options: [
          "うるさい人がいない間に自由に行動すること",
          "家事は計画的にすること",
          "鬼がいないと安全なこと",
          "洗濯は大変な作業なこと"
        ],
        correct: 0,
        explanation: "「鬼の居ぬ間に洗濯」(おにのいぬまにせんたく)は、厳しい人や監視する人がいない間に、のびのびと自由に行動することを表します。"
      },
      {
        type: "続き選択",
        question: "「親しき仲にも ___」(したしきなかにも)",
        options: [
          "礼儀あり",
          "距離あり",
          "愛あり",
          "遠慮あり"
        ],
        correct: 0,
        explanation: "「親しき仲にも礼儀あり」(したしきなかにもれいぎあり)は、どんなに親しい間柄でも、お互いに礼儀を忘れてはいけないという意味です。"
      },
      {
        type: "意味選択",
        question: "「習うより慣れよ」(ならうよりなれよ)の意味は？",
        options: [
          "理論より実践が大切ということ",
          "勉強しなくても良いということ",
          "経験者に教わることが重要",
          "慣れてしまえば簡単なこと"
        ],
        correct: 0,
        explanation: "「習うより慣れよ」(ならうよりなれよ)は、理論的な勉強よりも実際にやってみることで身につくことが多いという意味です。"
      },
      {
        type: "意味選択",
        question: "「背に腹は代えられない」(せにはらはかえられない)の意味は？",
        options: [
          "やむを得ない事情で大切なものを犠牲にすること",
          "体の部位を交換できないこと",
          "健康が一番大切なこと",
          "背中と腹の違いのこと"
        ],
        correct: 0,
        explanation: "「背に腹は代えられない」(せにはらはかえられない)は、切羽詰まった状況で、大切なものでも生きるために犠牲にせざるを得ないという意味です。"
      },
      {
        type: "続き選択",
        question: "「秋の日は ___」(あきのひは)",
        options: [
          "釣瓶落とし",
          "早く過ぎる",
          "短い",
          "美しい"
        ],
        correct: 0,
        explanation: "「秋の日は釣瓶落とし」(あきのひはつるべおとし)は、秋は日が釣瓶を落とすように急に暮れてしまうことから、物事が急激に進むことを表します。"
      },
      {
        type: "意味選択",
        question: "「灯台下暗し」(とうだいもとくらし)の意味は？",
        options: [
          "身近なことほど気づきにくいこと",
          "灯台の下は実際に暗いこと",
          "遠くのものはよく見えること",
          "明るい場所の大切さ"
        ],
        correct: 0,
        explanation: "「灯台下暗し」(とうだいもとくらし)は、灯台の足元は暗いように、身近なところにあるものほど気づきにくいという意味です。"
      },
      {
        type: "続き選択",
        question: "「笑う門には ___」(わらうかどには)",
        options: [
          "福来る",
          "幸せ来る",
          "神来る",
          "春来る"
        ],
        correct: 0,
        explanation: "「笑う門には福来る」(わらうかどにはふくきたる)は、いつも笑顔でいる家庭には自然と幸福がやってくるという意味です。"
      },
      {
        type: "意味選択",
        question: "「袖振り合うも多生の縁」(そでふりあうもたしょうのえん)の意味は？",
        options: [
          "どんな小さな出会いも深い縁があること",
          "袖を振って挨拶することが大切",
          "偶然の出会いは珍しいこと",
          "多くの人と会うのは良いこと"
        ],
        correct: 0,
        explanation: "「袖振り合うも多生の縁」(そでふりあうもたしょうのえん)は、道で袖が触れ合うような些細な出会いでも、前世からの深い縁があるという仏教的な考えを表します。"
      },
      {
        type: "続き選択",
        question: "「山椒は小粒でも ___」(さんしょうはこつぶでも)",
        options: [
          "ぴりりと辛い",
          "香りが良い",
          "薬になる",
          "貴重である"
        ],
        correct: 0,
        explanation: "「山椒は小粒でもぴりりと辛い」(さんしょうはこつぶでもぴりりとからい)は、体は小さくても才能や実力のある人のことを表します。"
      },
      {
        type: "意味選択",
        question: "「豚に真珠」(ぶたにしんじゅ)の意味は？",
        options: [
          "価値のわからない人に貴重なものを与えても無意味",
          "豚は真珠を食べないこと",
          "動物には宝石は必要ないこと",
          "真珠は高価なものであること"
        ],
        correct: 0,
        explanation: "「豚に真珠」(ぶたにしんじゅ)は、価値のわからない人に貴重なものを与えても、その真価を理解してもらえず無駄になるという意味です。"
      },
      {
        type: "続き選択",
        question: "「雨降って ___」(あめふって)",
        options: [
          "地固まる",
          "虹が出る",
          "涼しくなる",
          "花が咲く"
        ],
        correct: 0,
        explanation: "「雨降って地固まる」(あめふってじかたまる)は、雨の後は地面が固まるように、争いの後はかえって関係が良くなることを表します。"
      },
      {
        type: "意味選択",
        question: "「泣きっ面に蜂」(なきっつらにはち)の意味は？",
        options: [
          "悪いことが重なること",
          "泣いている時に蜂に刺されること",
          "悲しい出来事のこと",
          "虫に注意することの大切さ"
        ],
        correct: 0,
        explanation: "「泣きっ面に蜂」(なきっつらにはち)は、泣いている顔を蜂に刺されるように、不幸や災難が重なることを表します。"
      },
      {
        type: "続き選択",
        question: "「老兵は ___、ただ消え去るのみ」(ろうへいは　　ただきえさるのみ)",
        options: [
          "死なず",
          "強い",
          "賢い",
          "多い"
        ],
        correct: 0,
        explanation: "「老兵は死なず、ただ消え去るのみ」(ろうへいはしなず、ただきえさるのみ)は、マッカーサー元帥の有名な言葉で、古い世代が静かに退場することを表します。"
      },
      {
        type: "意味選択",
        question: "「渡りに船」(わたりにふね)の意味は？",
        options: [
          "必要な時に都合の良い助けが現れること",
          "川を渡る時に船があること",
          "旅行する時の交通手段のこと",
          "計画通りに物事が進むこと"
        ],
        correct: 0,
        explanation: "「渡りに船」(わたりにふね)は、川を渡ろうとする時に船が来るように、困っている時にちょうど良い助けが現れることを表します。"
      },
      {
        type: "続き選択",
        question: "「頭隠して ___隠さず」(あたまかくして　　かくさず)",
        options: [
          "尻",
          "体",
          "顔",
          "足"
        ],
        correct: 0,
        explanation: "「頭隠して尻隠さず」(あたまかくしてしりかくさず)は、雉が頭だけ隠して体が見えているように、一部だけ隠して全体を隠したつもりになることを表します。"
      },
      {
        type: "意味選択",
        question: "「栴檀は双葉より芳し」(せんだんはふたばよりかんばし)の意味は？",
        options: [
          "優秀な人は子どもの頃から才能を現すこと",
          "栴檀の香りが良いこと",
          "植物は小さい頃から大切にすること",
          "双葉の時期が重要なこと"
        ],
        correct: 0,
        explanation: "「栴檀は双葉より芳し」(せんだんはふたばよりかんばし)は、香木の栴檀が双葉の頃から香るように、優れた人は幼少の頃から非凡な才能を示すという意味です。"
      },
      {
        type: "続き選択",
        question: "「蓼食う虫も ___」(たでくうむしも)",
        options: [
          "好き好き",
          "色々",
          "元気",
          "多い"
        ],
        correct: 0,
        explanation: "「蓼食う虫も好き好き」(たでくうむしもすきずき)は、苦い蓼を食べる虫もいるように、人の好みはそれぞれ違うという意味です。"
      },
      {
        type: "意味選択",
        question: "「蛇の道は蛇」(じゃのみちはへび)の意味は？",
        options: [
          "同じ分野の人は互いの事情をよく知っていること",
          "蛇は蛇の通る道を知っていること",
          "専門家には専門家の世界があること",
          "動物にはそれぞれの習性があること"
        ],
        correct: 0,
        explanation: "「蛇の道は蛇」(じゃのみちはへび)は、蛇の通る道は蛇が一番よく知っているように、同じ分野や同じような境遇の人は、互いの事情をよく理解し合えるという意味です。"
      },
      {
        type: "続き選択",
        question: "「案ずるより ___」(あんずるより)",
        options: [
          "産むが易し",
          "行うが易し",
          "見るが易し",
          "聞くが易し"
        ],
        correct: 0,
        explanation: "「案ずるより産むが易し」(あんずるよりうむがやすし)は、あれこれ心配するより、実際にやってみると案外簡単だったということを表します。"
      },
      {
        type: "意味選択",
        question: "「鯛も一人はうまからず」(たいもひとりはうまからず)の意味は？",
        options: [
          "どんな良いものも一人では楽しめないこと",
          "鯛は一匹では味が出ないこと",
          "高級な魚でも調理法が重要なこと",
          "食事は人数が多い方が良いこと"
        ],
        correct: 0,
        explanation: "「鯛も一人はうまからず」(たいもひとりはうまからず)は、美味しい鯛も一人で食べては美味しくないように、どんな良いものも一人では真に楽しめないという意味です。"
      },
      {
        type: "続き選択",
        question: "「負けるが ___」(まけるが)",
        options: [
          "勝ち",
          "得",
          "学び",
          "経験"
        ],
        correct: 0,
        explanation: "「負けるが勝ち」(まけるがかち)は、その場では負けたように見えても、長い目で見ると結果的に勝利につながることを表します。"
      },
      {
        type: "意味選択",
        question: "「立つ鳥跡を濁さず」(たつとりあとをにごさず)の意味は？",
        options: [
          "去る時は後始末をきちんとすること",
          "鳥は水を汚さないこと",
          "動物は環境を大切にすること",
          "飛び立つ時は注意すること"
        ],
        correct: 0,
        explanation: "「立つ鳥跡を濁さず」(たつとりあとをにごさず)は、水鳥が飛び立つ時に水を濁さないように、立ち去る時は後始末をきちんとして迷惑をかけないようにするという意味です。"
      },
      {
        type: "続き選択",
        question: "「転んでも ___」(ころんでも)",
        options: [
          "ただでは起きぬ",
          "何かを掴め",
          "土を掴め",
          "草を掴め"
        ],
        correct: 0,
        explanation: "正確には「転んでもただでは起きない」(ころんでもただではおきない)で、失敗してもそこから何かを得ようとする前向きな姿勢を表します。"
      },
      {
        type: "意味選択",
        question: "「木を見て森を見ず」(きをみてもりをみず)の意味は？",
        options: [
          "細かいことにとらわれて全体を見失うこと",
          "森の中で迷子になること",
          "木と森の区別がつかないこと",
          "自然観察の方法のこと"
        ],
        correct: 0,
        explanation: "「木を見て森を見ず」(きをみてもりをみず)は、一本一本の木に気を取られて森全体が見えないように、細部にこだわりすぎて全体を把握できないことを表します。"
      },
      {
        type: "続き選択",
        question: "「好事魔多し」の「好事」の読み方は？",
        options: [
          "こうじ",
          "こうず",
          "よいこと",
          "こうじ"
        ],
        correct: 0,
        explanation: "「好事魔多し」(こうじまおおし)は、良いことには邪魔が入りやすく、物事が順調に進んでいる時ほど注意が必要という意味です。"
      },
      {
        type: "意味選択",
        question: "「隣の花は赤い」(となりのはなはあかい)の意味は？",
        options: [
          "他人のものは良く見えること",
          "隣家の花が実際に赤いこと",
          "花の色の違いのこと",
          "隣人との関係のこと"
        ],
        correct: 0,
        explanation: "「隣の花は赤い」(となりのはなはあかい)は、自分の持っているものより他人の持っているものの方が良く見えるという人間の心理を表します。"
      },
      {
        type: "続き選択",
        question: "「魚心あれば ___」(うおごころあれば)",
        options: [
          "水心",
          "鳥心",
          "人心",
          "花心"
        ],
        correct: 0,
        explanation: "「魚心あれば水心」(うおごころあればみずごころ)は、相手が好意を示せばこちらも好意を示すという、互いの気持ちが通じ合うことを表します。"
      },
      {
        type: "意味選択",
        question: "「瓢箪から駒」(ひょうたんからこま)の意味は？",
        options: [
          "思いがけないことが起こること",
          "瓢箪で遊ぶこと",
          "駒を大切にすること",
          "昔の遊び道具のこと"
        ],
        correct: 0,
        explanation: "「瓢箪から駒」(ひょうたんからこま)は、瓢箪から駒が出てくるはずがないように、全く予想外のことや不可能と思われることが現実に起こることを表します。"
      },
      {
        type: "続き選択",
        question: "「寄らば ___の陰」(よらば　　のかげ)",
        options: [
          "大樹",
          "大木",
          "大山",
          "大石"
        ],
        correct: 0,
        explanation: "「寄らば大樹の陰」(よらばたいじゅのかげ)は、頼るなら勢力の強い人や組織を選ぶ方が良いという意味です。"
      },
      {
        type: "意味選択",
        question: "「綸言汗の如し」(りんげんあせのごとし)の意味は？",
        options: [
          "君主の言葉は一度出したら取り消せないこと",
          "汗のように言葉が出ること",
          "緊張して汗をかくこと",
          "言葉の重要性のこと"
        ],
        correct: 0,
        explanation: "「綸言汗の如し」(りんげんあせのごとし)は、出た汗が体内に戻らないように、君主の言葉は一度発したら取り消すことができないという意味です。"
      },
      {
        type: "続き選択",
        question: "「一期 ___」(いちご)",
        options: [
          "一会",
          "一度",
          "一生",
          "一瞬"
        ],
        correct: 0,
        explanation: "「一期一会」(いちごいちえ)は、茶道の心得から生まれた言葉で、一生に一度の出会いを大切にするという意味です。"
      },
      {
        type: "意味選択",
        question: "「雀の涙」(すずめのなみだ)の意味は？",
        options: [
          "非常にわずかな量のこと",
          "雀が実際に涙を流すこと",
          "小さくて美しいもののこと",
          "鳥類の特徴のこと"
        ],
        correct: 0,
        explanation: "「雀の涙」(すずめのなみだ)は、雀が流す涙のように非常に小さく少ない量のことを表します。特に金額などが少ない時に使われます。"
      },
      {
        type: "続き選択",
        question: "「百聞は ___に如かず」(ひゃくぶんは　　にしかず)",
        options: [
          "一見",
          "一行",
          "一回",
          "一度"
        ],
        correct: 0,
        explanation: "「百聞は一見に如かず」(ひゃくぶんはいっけんにしかず)は、人から百回聞くより、一度自分の目で見る方がよくわかるという意味です。"
      },
      {
        type: "意味選択",
        question: "「鶴の一声」(つるのひとこえ)の意味は？",
        options: [
          "権威ある人の一言で全てが決まること",
          "鶴の美しい鳴き声のこと",
          "静寂を破る音のこと",
          "珍しいことが起こること"
        ],
        correct: 0,
        explanation: "「鶴の一声」(つるのひとこえ)は、多くの人があれこれ議論していても、権威ある人の一言で全てが決定されることを表します。"
      },
      {
        type: "続き選択",
        question: "「___十色」(　　といろ)と似た意味の「百人百様」",
        options: [
          "十人",
          "五人",
          "百人",
          "千人"
        ],
        correct: 0,
        explanation: "「十人十色」(じゅうにんといろ)は、十人いれば十通りの考えや好みがあるという意味で、人それぞれ異なることを表します。"
      }
    ];

    let currentQuestionIndex = 0;
    let correctAnswers = 0;
    let gameProverbs = [];

    // 全問題を10問ずつのブロックに分割
    const proverbBlocks = [];
    for (let i = 0; i < proverbs.length; i += 10) {
      proverbBlocks.push(proverbs.slice(i, i + 10));
    }

    const blockSelectionScreen = document.getElementById('blockSelectionScreen');
    const gameContent = document.getElementById('gameContent');
    const resultScreen = document.getElementById('resultScreen');

    function showBlockSelection() {
      // 画面を切り替え
      blockSelectionScreen.style.display = 'block';
      gameContent.style.display = 'none';
      resultScreen.classList.remove('show');
      
      // ホーム画面に戻る際にゲーム画面の内容をリセット
      document.getElementById('questionCard').style.display = 'block';
      document.getElementById('questionType').textContent = '';
      document.getElementById('questionText').textContent = '';
      document.getElementById('options').innerHTML = '';
      document.getElementById('explanation').classList.remove('show');
      document.getElementById('nextBtn').classList.remove('show');
      
      // プログレスバーとスコアをリセット
      document.getElementById('progressFill').style.width = '0%';
      document.getElementById('currentQuestion').textContent = '0'; // 👈 ここを'0'に変更
      document.getElementById('correctCount').textContent = '0';
      
      const blockList = document.getElementById('blockList');
      blockList.innerHTML = '';
      
      // ブロック選択ボタンを生成
      proverbBlocks.forEach((block, index) => {
        const button = document.createElement('button');
        button.className = 'block-btn';
        button.textContent = `ブロック ${index + 1} (${block.length}問)`;
        button.onclick = () => startGameWithBlock(index);
        blockList.appendChild(button);
      });
    }

    function startGameWithBlock(blockIndex) {
      // 選択したブロックの問題セットを設定
      gameProverbs = [...proverbBlocks[blockIndex]];

      // ゲーム画面に切り替え
      blockSelectionScreen.style.display = 'none';
      gameContent.style.display = 'block';

      // ゲームを初期化
      initGame();
    }

    function initGame() {
      // 選択肢の順序をランダム化
      gameProverbs.forEach(question => {
        const correctOption = question.options[question.correct];
        const shuffledOptions = [...question.options].sort(() => Math.random() - 0.5);
        const newCorrectIndex = shuffledOptions.findIndex(option => option === correctOption);
        question.options = shuffledOptions;
        question.correct = newCorrectIndex;
      });

      currentQuestionIndex = 0;
      correctAnswers = 0;

      document.getElementById('currentQuestion').textContent = '1';
      document.getElementById('correctCount').textContent = '0';
      document.getElementById('totalQuestions').textContent = gameProverbs.length;

      showQuestion();
    }

    function showQuestion() {
      if (currentQuestionIndex >= gameProverbs.length) {
        showResult();
        return;
      }

      const question = gameProverbs[currentQuestionIndex];
      const questionCard = document.getElementById('questionCard');

      // カードの状態をリセット
      questionCard.className = 'question-card';

      document.getElementById('questionType').textContent = question.type;
      document.getElementById('questionText').textContent = question.question;

      const optionsContainer = document.getElementById('options');
      optionsContainer.innerHTML = '';

      // ここから修正
      // 正解の選択肢を一時的に保持
      const correctOption = question.options[question.correct];

      // 選択肢の配列をシャッフル
      const shuffledOptions = [...question.options].sort(() => Math.random() - 0.5);

      // 新しい正解のインデックスを見つけて更新
      const newCorrectIndex = shuffledOptions.findIndex(option => option === correctOption);
      question.correct = newCorrectIndex;
      // 修正ここまで

      shuffledOptions.forEach((option, index) => {
        const button = document.createElement('button');
        button.className = 'option-btn';
        button.textContent = option;
        button.onclick = () => selectAnswer(index);
        optionsContainer.appendChild(button);
      });

      // UI要素を隠す
      document.getElementById('explanation').classList.remove('show');
      document.getElementById('nextBtn').classList.remove('show');

      // プログレスバーを更新
      const progress = ((currentQuestionIndex + 1) / gameProverbs.length) * 100;
      document.getElementById('progressFill').style.width = progress + '%';

      // 現在の問題番号を更新
      document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
    }

    function selectAnswer(selectedIndex) {
      const question = gameProverbs[currentQuestionIndex];
      const optionButtons = document.querySelectorAll('.option-btn');
      const questionCard = document.getElementById('questionCard');

      // 全ボタンを無効化
      optionButtons.forEach(btn => btn.classList.add('disabled'));

      const explanationEl = document.getElementById('explanation');
      explanationEl.innerHTML = ''; // HTMLをクリア

      // 正解/不正解のマークを作成
      const markSpan = document.createElement('span');
      markSpan.textContent = selectedIndex === question.correct ? '◯ 正解' : '☓ 不正解';
      markSpan.className = selectedIndex === question.correct ? 'correct-mark' : 'incorrect-mark';

      // 正解の場合
      if (selectedIndex === question.correct) {
        optionButtons[selectedIndex].classList.add('correct');
        questionCard.classList.add('correct');
        correctAnswers++;
        document.getElementById('correctCount').textContent = correctAnswers;
      } else {
        // 不正解の場合
        optionButtons[selectedIndex].classList.add('incorrect');
        optionButtons[question.correct].classList.add('correct');
        questionCard.classList.add('incorrect');
      }

      // 解説を表示
      explanationEl.appendChild(markSpan);
      explanationEl.innerHTML += `： ${question.explanation}`;
      explanationEl.classList.add('show');

      // 次へボタンを表示
      document.getElementById('nextBtn').classList.add('show');
    }

    function nextQuestion() {
      currentQuestionIndex++;

      // カードアニメーションのため少し遅延
      setTimeout(() => {
        showQuestion();
      }, 100);
    }

    function showResult() {
      const gameArea = document.querySelector('.game-area');
      const questionCard = document.getElementById('questionCard');
      const resultScreen = document.getElementById('resultScreen');

      questionCard.style.display = 'none';
      resultScreen.classList.add('show');

      // 結果に応じて表示を変更
      const percentage = Math.round((correctAnswers / gameProverbs.length) * 100);
      const resultEmoji = document.getElementById('resultEmoji');
      const resultTitle = document.getElementById('resultTitle');

      if (percentage >= 90) {
        resultEmoji.textContent = '🏆';
        resultTitle.textContent = '素晴らしい！';
      } else if (percentage >= 70) {
        resultEmoji.textContent = '🎉';
        resultTitle.textContent = 'よく頑張りました！';
      } else if (percentage >= 50) {
        resultEmoji.textContent = '👍';
        resultTitle.textContent = 'もう少し！';
      } else {
        resultEmoji.textContent = '📚';
        resultTitle.textContent = '復習しよう！';
      }

      document.getElementById('resultScore').textContent =
        `${gameProverbs.length}問中${correctAnswers}問正解！（${percentage}%）`;
    }

    function restartGame() {
      showBlockSelection();
    }

    // ゲーム開始時はブロック選択画面から
    showBlockSelection();
  </script>
</body>

</html>